(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-571a8e8f"],{"2ecf":function(e,t,i){"use strict";i("c8b4")},7278:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"createPost-container",staticStyle:{background:"#f7fbff",height:"89vh"}},[i("sticky",{attrs:{"class-name":"sub-navbar"}},[i("div",{staticStyle:{border:"0px solid red","text-align":"center"}},[i("div",[i("transition",{attrs:{name:"el-zoom-in-bottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"transition-box"},[i("el-button",{staticStyle:{border:"1px solid #67c23a"},attrs:{size:"medium",icon:"el-icon-circle-plus",round:""},on:{click:function(t){return e.handleAgregar()}}},[e._v("Agregar item")])],1)])],1)])]),e._v(" "),i("div",{staticClass:"app-container"},[i("el-card",{staticClass:"box-card div-causas-header"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid #d8ebff"},attrs:{data:e.listaItems.filter((function(t){return!e.busquedaItem||t.label.toLowerCase().includes(e.busquedaItem.toLowerCase())})),height:"70vh",border:"",fit:"","highlight-current-row":""}},[e._l(e.tableColumnsItems,(function(t){return i("el-table-column",{key:t.label,attrs:{label:t.label,prop:t.prop,align:"center",width:e.x.matches?t.width_xs:t.width,sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return["label"===t.prop?i("div",[i("el-tag",{attrs:{type:"primary"}},[e._v(e._s(e._f("uppercase")(a.row[t.prop])))])],1):"precio"===t.prop?i("div",[i("span",[e._v("$ "+e._s(a.row[t.prop]))])]):"registro"===t.prop?i("div",[i("span",[i("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e._f("formatDateHour")(a.row[t.prop])))])]):i("div",[e._v(e._s(a.row[t.prop]))])]}}],null,!0)})})),e._v(" "),i("el-table-column",{attrs:{align:"center",width:e.x.matches?"180":""},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"Nombre item",clearable:""},model:{value:e.busquedaItem,callback:function(t){e.busquedaItem=t},expression:"busquedaItem"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.row)}}},[i("b",[e._v("Editar")])]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"},on:{click:function(i){return e.handleDelete(t.row)}}})]}}])})],2)],1)],1),e._v(" "),i("modal-agregar",{attrs:{modaltitulo:e.tituloModalItem,modalvisible:e.dialogVisibleItem,modalform:e.formItem,domcomponents:e.domItem,rulesform:e.rulesFormItem,datamodal:e.dataFormItem,action:e.modalAction},on:{confirmar:e.submitAgregar}}),e._v(" "),i("modal-delete",{attrs:{titulo:"Advertencia",mensaje:e.mensajeModalDelete,modalvisible:e.deleteDialogVisible},on:{confirmar:e.submitDelete}})],1)},r=[],n=i("c7eb"),o=(i("96cf"),i("1da1")),s=i("a888"),c=i("0141"),l=i("d589"),u={tableColumnsItems:[{label:"Nombre",prop:"label",width:300,width_xs:300},{label:"Identificador",prop:"id",width_xs:150},{label:"Precio",prop:"precio",width_xs:125},{label:"Descripción",prop:"descripcion",width_xs:200},{label:"Fecha registro",prop:"registro",width_xs:200}],formItem:{value:"",label:"",id:"",precio:"",descripcion:""},domItem:[{type:"text",prop:"label",label:"Nombre",placeholder:"Nombre del item"},{type:"number",prop:"id",label:"Identificador",placeholder:"Código item"},{type:"number",prop:"precio",label:"Precio",placeholder:"Precio del item"},{type:"textarea",prop:"descripcion",label:"Descripción",placeholder:"Ingrese una descripción"}],rulesFormItem:{label:[{required:!0,message:"Ingrese un nombre",trigger:"blur"}],id:[{required:!0,message:"Ingrese el identificador"},{type:"number",message:"Este campo debe ser numérico"}],precio:[{required:!0,message:"Ingrese el precio"},{type:"number",message:"Este campo debe ser numérico"}],descripcion:[{required:!1,message:"Ingrese un nombre",trigger:"blur"}]},dataFormItem:{iditem:[{id:1,label:"Producto1",value:1},{id:2,label:"Producto2",value:2}]}},d=i("7818"),m=i("b804"),p={directives:{elDragDialog:s["a"]},components:{ModalAgregar:c["a"],ModalDelete:l["a"],Sticky:m["a"]},data:function(){return{loading:!1,tableColumnsItems:u.tableColumnsItems,listaItems:[],dialogVisibleItem:!1,deleteDialogVisible:!1,mensajeModalDelete:"",tituloModalItem:"",formItem:u.formItem,domItem:u.domItem,rulesFormItem:u.rulesFormItem,dataFormItem:u.dataFormItem,modalAction:"",listaProductos:[],delItem:{},busquedaItem:"",x:""}},created:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getItems();case 3:this.x=window.matchMedia("(max-width: 800px)");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.formItem={};case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleAgregar:function(){this.tituloModalItem="Agregar item",this.modalAction="Agregar",this.dialogVisibleItem=!0},handleEdit:function(e){this.formItem=e,this.tituloModalItem="Editar item",this.modalAction="Editar",this.dialogVisibleItem=!0},handleDelete:function(e){this.delItem=e,this.mensajeModalDelete="¿Realmente desea eliminar <b>".concat(e.label,"</b>?"),this.deleteDialogVisible=!0},submitAgregar:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(t){var i=this;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.response){e.next=20;break}if(this.loading=!0,"Agregar"!==t.action){e.next=9;break}return t.data.label=t.data.label.toUpperCase(),t.data.hasOwnProperty("descripcion")||(t.data.descripcion=""),e.next=7,Object(d["a"])(t.data).then(function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(t){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.$notify({title:"Bien hecho!",message:"Item agregado con éxito",position:"bottom-right",type:"success",duration:2e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.next=13;break;case 9:return t.data.label=t.data.label.toUpperCase(),t.data.hasOwnProperty("descripcion")||(t.data.descripcion=""),e.next=13,Object(d["d"])(t.data).then(function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(t){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.$notify({title:"Bien hecho!",message:"Item modificado con éxito",position:"bottom-right",type:"success",duration:2e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:return this.formItem={},this.dialogVisibleItem=!1,e.next=17,this.getItems();case 17:this.loading=!1,e.next=23;break;case 20:this.formItem={},this.getItems(),this.dialogVisibleItem=!1;case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submitDelete:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(t){var i=this;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return this.loading=!0,e.next=4,Object(d["b"])(this.delItem).then(function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(t){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.$notify({title:"Información",message:"Se ha eliminado el item!",position:"bottom-right",type:"success",duration:2e3}),i.deleteDialogVisible=!1,e.next=4,i.getItems();case 4:i.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),i.$notify({title:"Advertencia",message:"El item esta asociado a una factura!",position:"top-right",type:"error",duration:2e3}),i.deleteDialogVisible=!1,i.loading=!1}));case 4:e.next=7;break;case 6:this.deleteDialogVisible=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getItems:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(){var t=this;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["c"])(this.idproceso).then((function(e){t.listaItems=e,t.loading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},b=p,f=(i("2ecf"),i("2877")),h=Object(f["a"])(b,a,r,!1,null,"7328c6e0",null);t["default"]=h.exports},7818:function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return o})),i.d(t,"b",(function(){return s}));var a=i("b775");function r(){return Object(a["a"])({url:"/items",method:"get"})}function n(e){return Object(a["a"])({url:"/items",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/items",method:"put",data:e})}function s(e){return Object(a["a"])({url:"/items",method:"delete",data:e})}},a888:function(e,t,i){"use strict";i("a481"),i("6762"),i("2fdb");var a={bind:function(e,t,i){var a=e.querySelector(".el-dialog__header"),r=e.querySelector(".el-dialog");a.style.cssText+=";cursor:move;",r.style.cssText+=";top:0px;";var n=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();a.onmousedown=function(e){var t=e.clientX-a.offsetLeft,o=e.clientY-a.offsetTop,s=r.offsetWidth,c=r.offsetHeight,l=document.body.clientWidth,u=document.body.clientHeight,d=r.offsetLeft,m=l-r.offsetLeft-s,p=r.offsetTop,b=u-r.offsetTop-c,f=n(r,"left"),h=n(r,"top");f.includes("%")?(f=+document.body.clientWidth*(+f.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(f=+f.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(e){var a=e.clientX-t,n=e.clientY-o;-a>d?a=-d:a>m&&(a=m),-n>p?n=-p:n>b&&(n=b),r.style.cssText+=";left:".concat(a+f,"px;top:").concat(n+h,"px;"),i.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},r=function(e){e.directive("el-drag-dialog",a)};window.Vue&&(window["el-drag-dialog"]=a,Vue.use(r)),a.install=r;t["a"]=a},c8b4:function(e,t,i){}}]);