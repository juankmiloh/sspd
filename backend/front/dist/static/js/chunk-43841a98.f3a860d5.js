(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43841a98"],{"5e76f":function(e,t,n){"use strict";n("af1d")},a888:function(e,t,n){"use strict";n("a481"),n("6762"),n("2fdb");var i={bind:function(e,t,n){var i=e.querySelector(".el-dialog__header"),r=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",r.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,a=e.clientY-i.offsetTop,l=r.offsetWidth,s=r.offsetHeight,c=document.body.clientWidth,u=document.body.clientHeight,d=r.offsetLeft,m=c-r.offsetLeft-l,p=r.offsetTop,b=u-r.offsetTop-s,f=o(r,"left"),h=o(r,"top");f.includes("%")?(f=+document.body.clientWidth*(+f.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(f=+f.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,o=e.clientY-a;-i>d?i=-d:i>m&&(i=m),-o>p?o=-p:o>b&&(o=b),r.style.cssText+=";left:".concat(i+f,"px;top:").concat(o+h,"px;"),n.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},r=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(r)),i.install=r;t["a"]=i},af1d:function(e,t,n){},dd7c:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"createPost-container",staticStyle:{background:"#f7fbff",height:"89vh"}},[n("sticky",{attrs:{"class-name":"sub-navbar"}},[n("div",{staticStyle:{border:"0px solid red","text-align":"center"}},[n("div",[n("transition",{attrs:{name:"el-zoom-in-bottom"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"transition-box"},[n("el-button",{staticStyle:{border:"1px solid #67c23a"},attrs:{size:"medium",icon:"el-icon-circle-plus",round:""},on:{click:function(t){return e.handleAgregar()}}},[e._v("Agregar cliente")])],1)])],1)])]),e._v(" "),n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"box-card div-causas-header"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid #d8ebff"},attrs:{data:e.listaClientes.filter((function(t){return!e.busquedaCliente||t.nombre.toLowerCase().includes(e.busquedaCliente.toLowerCase())})),height:"70vh",border:"",fit:"","highlight-current-row":""}},[e._l(e.tableColumnsItems,(function(t){return n("el-table-column",{key:t.label,attrs:{label:t.label,prop:t.prop,align:"center",width:e.x.matches?t.width_xs:t.width,sortable:""},scopedSlots:e._u([{key:"default",fn:function(i){return["nombre"===t.prop?n("div",[n("el-tag",{attrs:{type:"primary"}},[e._v(e._s(e._f("uppercase")(i.row[t.prop])))])],1):"email"===t.prop?n("div",[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._f("lowercase")(i.row[t.prop])))])],1):"registro"===t.prop?n("div",[n("div",[n("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e._f("formatDate")(i.row[t.prop])))])]):n("div",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)})})),e._v(" "),n("el-table-column",{attrs:{align:"center",width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-input",{attrs:{size:"mini",placeholder:"Nombre cliente",clearable:""},model:{value:e.busquedaCliente,callback:function(t){e.busquedaCliente=t},expression:"busquedaCliente"}})]}},{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(n){return e.handleEdit(t.row)}}}),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"},on:{click:function(n){return e.handleDelete(t.row)}}})]}}])})],2)],1)],1),e._v(" "),n("modal-agregar",{attrs:{modaltitulo:e.tituloModalItem,modalvisible:e.dialogVisibleItem,modalform:e.formItem,domcomponents:e.domItem,rulesform:e.rulesFormItem,datamodal:e.dataFormItem,action:e.modalAction},on:{confirmar:e.submitAgregar}}),e._v(" "),n("modal-delete",{attrs:{titulo:"Advertencia",mensaje:e.mensajeModalDelete,modalvisible:e.deleteDialogVisible},on:{confirmar:e.submitDelete}})],1)},r=[],o=n("c7eb"),a=(n("96cf"),n("1da1")),l=n("a888"),s=n("0141"),c=n("d589"),u={tableColumnsItems:[{label:"Nombre",prop:"nombre",width:300,width_xs:300},{label:"Nit",prop:"nit",width:110,width_xs:110},{label:"Direccion",prop:"direccion",width_xs:200},{label:"Email",prop:"email",width_xs:250},{label:"Teléfono",prop:"telefono",width:110,width_xs:110},{label:"Registro",prop:"registro",width:110,width_xs:120}],formItem:{idcliente:"",tipopersona:"",nit:"",nombre:"",direccion:"",email:"",telefono:""},domItem:[{type:"radiogroup",prop:"tipopersona",label:"Tipo"},{type:"text",prop:"nit",label:"Nit",placeholder:"Nit del cliente"},{type:"text",prop:"nombre",label:"Nombre",placeholder:"Nombre del cliente"},{type:"text",prop:"direccion",label:"Dirección",placeholder:"Dirección del cliente"},{type:"text",prop:"email",label:"Email",placeholder:"Correo electrónico"},{type:"number",prop:"telefono",label:"Teléfono",placeholder:"Teléfono del cliente"}],rulesFormItem:{tipopersona:[{required:!0,message:"Seleccione un tipo de persona",trigger:"change"}],nombre:[{required:!0,message:"Ingrese un nombre",trigger:"blur"}],direccion:[{required:!0,message:"Ingrese una dirección",trigger:"blur"}],nit:[{required:!0,message:"Ingrese el NIT",trigger:"blur"}],email:[{type:"email",required:!0,message:"Ingrese un correo electrónico válido",trigger:"blur"}],telefono:[{required:!0,message:"Ingrese número de teléfono"},{type:"number",message:"Este campo debe ser numérico"}]},dataFormItem:{tipopersona:[{id:1,label:"Persona natural",value:1},{id:2,label:"Persona jurídica",value:2}]}},d=n("dec3"),m=n("b804"),p={directives:{elDragDialog:l["a"]},components:{ModalAgregar:s["a"],ModalDelete:c["a"],Sticky:m["a"]},data:function(){return{loading:!1,tableColumnsItems:u.tableColumnsItems,listaClientes:[],dialogVisibleItem:!1,deleteDialogVisible:!1,mensajeModalDelete:"",tituloModalItem:"",formItem:u.formItem,domItem:u.domItem,rulesFormItem:u.rulesFormItem,dataFormItem:u.dataFormItem,modalAction:"",listaProductos:[],delItem:{},busquedaCliente:"",x:""}},created:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getClientes();case 3:this.x=window.matchMedia("(max-width: 800px)");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.formItem={};case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleAgregar:function(){this.tituloModalItem="Agregar cliente",this.modalAction="Agregar",this.dialogVisibleItem=!0},handleEdit:function(e){this.formItem=e,this.tituloModalItem="Editar cliente",this.modalAction="Editar",this.dialogVisibleItem=!0},handleDelete:function(e){this.delItem=e,this.mensajeModalDelete="¿Realmente desea eliminar a <b>".concat(e.nombre,"</b>?"),this.deleteDialogVisible=!0},submitAgregar:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t){var n=this;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.response){e.next=18;break}if(this.loading=!0,"Agregar"!==t.action){e.next=8;break}return t.data.nombre=t.data.nombre.toUpperCase(),e.next=6,Object(d["a"])(t.data).then(function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.$notify({title:"Bien hecho!",message:"Cliente agregado con éxito",position:"bottom-right",type:"success",duration:2e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.next=11;break;case 8:return t.data.nombre=t.data.nombre.toUpperCase(),e.next=11,Object(d["d"])(t.data).then(function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.$notify({title:"Bien hecho!",message:"Cliente modificado con éxito",position:"bottom-right",type:"success",duration:2e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:return this.formItem={},this.dialogVisibleItem=!1,e.next=15,this.getClientes();case 15:this.loading=!1,e.next=21;break;case 18:this.formItem={},this.getClientes(),this.dialogVisibleItem=!1;case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submitDelete:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t){var n=this;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return this.loading=!0,e.next=4,Object(d["b"])(this.delItem).then(function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.$notify({title:"Información",message:"Se ha eliminado el cliente!",position:"bottom-right",type:"success",duration:2e3}),n.deleteDialogVisible=!1,e.next=4,n.getClientes();case 4:n.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),n.$notify({title:"Advertencia",message:"El cliente esta asociado a una factura!",position:"top-right",type:"error",duration:2e3}),n.deleteDialogVisible=!1,n.loading=!1}));case 4:e.next=7;break;case 6:this.deleteDialogVisible=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getClientes:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(){var t=this;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["c"])(this.idproceso).then((function(e){t.listaClientes=e,t.loading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},b=p,f=(n("5e76f"),n("2877")),h=Object(f["a"])(b,i,r,!1,null,"275e210e",null);t["default"]=h.exports},dec3:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return l}));var i=n("b775");function r(){return Object(i["a"])({url:"/clientes",method:"get"})}function o(e){return Object(i["a"])({url:"/clientes",method:"post",data:e})}function a(e){return Object(i["a"])({url:"/clientes",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/clientes",method:"delete",data:e})}}}]);